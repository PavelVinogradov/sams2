<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>

<HEAD>
  <META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
  <TITLE>SAMS2 - Установка</TITLE>
  <META NAME="GENERATOR" CONTENT="Andrey Ovcharov">
  <META NAME="AUTHOR" CONTENT="Andrey Ovcharov">
</HEAD>

<BODY LANG="ru-RU" TEXT="#000000" LINK="#000080" VLINK="#800000" DIR="LTR">

<TABLE SUMMARY="Header navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0">
  <TR>
    <TH COLSPAN="3" ALIGN="center">SAMS2 Установка</TH>
  </TR>
  <TR>
    <TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="requirements.html">Требования</A></TD>
    <TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="index.html">Оглавление</A></TD>
    <TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="configure.html">Настройка</A></TD>
  </TR>
</TABLE>
<HR ALIGN="LEFT" WIDTH="100%">

<H1><A NAME="install">3 Установка</A></H1>

<H2><A NAME="download">3.1 Загрузка дистрибутива</A></H2>

<P>Для загрузки дистрибутива зайдите на
<A HREF="http://sams.nixdev.net">http://sams.nixdev.net</A> и выберите наиболее
предпочтительный вариант. Если дистрибутив представлен в виде собранного пакета
для вашей операционной системы, то установите его, используя соответствующий
менеджер пакетов, и переходите к этапу <A HREF="configure.html#configure">настройки</A>.
Если же вы выбрали установку из исходных кодов, то пора переходить к этапу
<A HREF="#compilation">сборки</A>.
</P>

<H2><A NAME="compilation">3.2 Компиляция исходных текстов</A></H2>

<OL>
  <LI>
    <P>У вас должен быть файл sams2-<i>VERSION</i>.tar.gz. Распакуйте его с помощью команды</P>
    <P><PRE>$ tar xzf sams2-<i>VERSION</i>.tar.gz</PRE></P>
  </LI>

  <LI>
    <P>Перейдите в полученную директорию</P>
    <P><PRE>$ cd sams2-<i>VERSION</i></PRE></P>
  </LI>

  <LI>
    <P>На этом этапе вам необходимо создать скрипт автоматической
    конфигурации для компилирования. Используйте команду</P>
    <P><PRE>$ make -f Makefile.cvs</PRE></P>
    <P>(на некоторых операционных системах используется gmake)</P>
  </LI>

  <LI>
    <P>Далее запустите скрипт автоматической конфигурации</P>
    <P><PRE>$ sh ./configure</PRE></P>
    <P>В этом случае скрипт попробует найти все необходимые зависимости самостоятельно
      и в дальнейшем будет произведена установка в /usr/local. Если вы хотите устанавливать
      SAMS в другую директорию, или <A HREF="requirements.html#develpackages">необходимые пакеты</A>
      находятся не в стандартном месте, или конфигурация по умолчанию вас не устраивает,
      то воспользуйтесь опциями configure, список которых можно получить, выполнив команду
    </P>
    <P><PRE>$ sh ./configure --help</PRE></P>
    <P>
      По окончанию конфигурирования обратите внимание на используемые библиотеки (API).
      Из трех возможных вариантов баз данных, должен быть сконфигурирован хотя-бы один,
      иначе SAMS работать не сможет. Соответственно, если библиотека подключения к какой-либо
      БД не сконфигурирована, то в дальнейшем вы не сможете использовать эту БД в качестве
      хранилища данных SAMS.
    </P>
    <P>
      Также следует обратить внимание на pcre и pcrecpp. Если нет ни того, ни другого,
      то использование регулярных выражений будет недоступно, но другие функции будут работать.
      Если же установлены обе библиотеки, то по умолчанию будет использоваться pcrecpp.
    </P>
    <P>
      По умолчанию, документация для исходных текстов не компилируется. Для компиляции
      и последующей установки этой документации необходимо иметь установленный пакет doxygen
      и добавить опцию --with-srcdocs.
    </P>
    <P><PRE>$ sh ./configure --with-srcdocs</PRE></P>
  </LI>

  <LI>
    <P>После успешного конфигурирования необходимо запустить процесс компиляции. Выполните команду</P>
    <P><PRE>$ make</PRE></P>
    <P>(Не забывайте что на некоторых операционных системах используется gmake)</P>
    <P>Если во время сборки появляются ошибки, проверьте наличие
       <A HREF="requirements.html#develpackages">необходимых пакетов</A>.
    </P>
  </LI>
</OL>


<H2><A NAME="makeinstall">3.3 Установка</A></H2>

<P>Для установки необходимо обладать привилегиями root, для этого, находясь в директории,
где происходила компиляция, выполните команды</P>

<PRE>$ su</PRE>
<P>Password: &lt;тут самый секретный пароль&gt;</P>
<PRE># make install</PRE>
<P>После этого все модули будут установлены и можно приступать к базовой настройке.</P>

<P><span style='color:red'>Надо написать как поставить отдельный модуль (web, daemons, doc)</span></P>

<HR ALIGN="LEFT" WIDTH="100%">
<TABLE SUMMARY="Footer navigation table" WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0">
  <TR>
    <TD WIDTH="33%" ALIGN="left" VALIGN="top"><A HREF="requirements.html">Требования</A></TD>
    <TD WIDTH="34%" ALIGN="center" VALIGN="top"><A HREF="index.html">Оглавление</A></TD>
    <TD WIDTH="33%" ALIGN="right" VALIGN="top"><A HREF="configure.html">Настройка</A></TD>
  </TR>
</TABLE>

</BODY>
</HTML>
